setwd("C:/+STRAUCH+/+PAPER_WORK+/Opti-Tool/CoMOLA_basic/models/WYLD")
sink("C:/+STRAUCH+/+PAPER_WORK+/Opti-Tool/CoMOLA_basic/models/WYLD/console.txt", append=FALSE)
##########################################################################################
#
#     ~ ~ ~ Simple model to predict water yield (WYLD) ~ ~ ~
#     ~ ~ ~ this is just a toy model ~ ~ ~
#
#     ~ ~ ~ Input data ~ ~ ~
#    land_use.asc        |land use map containing the following classes
#                        |1,2,3,4,5 = arable land with increasing intensity from 1 to 5
#                        |6 = forest
#                        |7 = pasture
#                        |8 = urban area
#                        |-2 = no data
#
#
#    Objective: Maximize water yield
#
##########################################################################################

# set working directory

# read in ascii files
lu.map <- read.table("map.asc", h=F, skip=6, sep=" ")

# Kc coefficients
Kc <- c(0.9,0.925,0.95,0.975,1,0.96,1.14)

# count land use classes except urban
lu.n <- rep(0,7)
for (i in 1:7) {
  lu.n[i] <- dim(which(lu.map == i, arr.ind=T))[1]
}

# calculate water yield as sum of inverted Kc values
wyld <- sum(lu.n*1/Kc)

# write model output
write.table(wyld , "WYLD_output.csv",append=FALSE ,sep =";",col.names=FALSE ,row.names=FALSE)






















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































sink()
